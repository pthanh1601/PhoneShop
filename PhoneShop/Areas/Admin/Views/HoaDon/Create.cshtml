@model PhoneShop.ViewModels.HoaDonViewModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Thêm Hoá Đơn";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.Admin.cshtml";
}

<form asp-action="Create" method="post">
    <div class="form-group">
        <label for="MaKh">Khách hàng</label>
        <select asp-for="MaKh" class="form-control" asp-items="@(new SelectList(Model.KhachHangs, "MaKh", "HoTen"))"></select>
    </div>

    <div class="form-group">
        <label for="NgayDat">Ngày Đặt</label>
        <input asp-for="NgayDat" class="form-control" type="date" />
    </div>

    <div class="form-group">
        <label for="NgayCan">Ngày Cần</label>
        <input asp-for="NgayCan" class="form-control" type="date" />
    </div>

    <div class="form-group">
        <label for="NgayGiao">Ngày Giao</label>
        <input asp-for="NgayGiao" class="form-control" type="date" />
    </div>

    <div class="form-group">
        <label for="DiaChi">Địa Chỉ</label>
        <input asp-for="DiaChi" class="form-control" />
    </div>

    <div class="form-group">
        <label for="DienThoai">Số Điện Thoại</label>
        <input asp-for="DienThoai" class="form-control" />
    </div>

    <div class="form-group">
        <label for="CachThanhToan">Cách Thanh Toán</label>
        <input asp-for="CachThanhToan" class="form-control" />
    </div>

    <div class="form-group">
        <label for="CachVanChuyen">Cách Vận Chuyển</label>
        <input asp-for="CachVanChuyen" class="form-control" />
    </div>

    <div class="form-group">
        <label for="PhiVanChuyen">Phí Vận Chuyển</label>
        <input asp-for="PhiVanChuyen" class="form-control" />
    </div>

    <div class="form-group">
        <label for="MaTrangThai">Trạng Thái</label>
        <select asp-for="MaTrangThai" class="form-control">
            <option value="1">Đang Xử Lý</option>
            <option value="2">Đã Hoàn Thành</option>
            <option value="3">Đã Hủy</option>
        </select>
    </div>

    <div class="form-group">
        <label for="MaNv">Mã Nhân Viên</label>
        <input asp-for="MaNv" class="form-control" />
    </div>

    <div class="form-group">
        <label for="GhiChu">Ghi Chú</label>
        <textarea asp-for="GhiChu" class="form-control"></textarea>
    </div>

    <h3>Chi Tiết Hóa Đơn</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Hàng Hóa</th>
                <th>Đơn Giá</th>
                <th>Số Lượng</th>
                <th>Giảm Giá</th>
            </tr>
        </thead>
        <tbody>
            @for (var i = 0; i < Model.ChiTietHds.Count; i++)
            {
                <tr>
                    <td>
                        <select asp-for="ChiTietHds[@i].MaHh" class="form-control" asp-items="@(new SelectList(Model.HangHoas, "MaHh", "TenHangHoa"))"></select>
                    </td>
                    <td>
                        <input asp-for="ChiTietHds[@i].DonGia" class="form-control" />
                    </td>
                    <td>
                        <input asp-for="ChiTietHds[@i].SoLuong" class="form-control" />
                    </td>
                    <td>
                        <input asp-for="ChiTietHds[@i].GiamGia" class="form-control" />
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <button type="submit" class="btn btn-primary">Tạo Hóa Đơn</button>
</form>
